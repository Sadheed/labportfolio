<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Register - Online Bookstore</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <style>
    body {
  background-color: #f2d7d9;
  font-family: 'Poppins', sans-serif;
  margin: 0;
  padding: 0;
}

/* Navbar */
.nav {
  background-color: #fff;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
  box-shadow: 0 2px 5px rgba(224, 220, 220, 0.1);
}

.logo {
  display: flex;
  align-items: center;
}

.logo img {
  height: 50px;
  width: auto;
  margin-right: 10px;
}

.logo span {
  font-size: 22px;
  font-weight: bold;
  color: #1d1e1f;
}

.links a {
  text-decoration: none;
  margin: 0 10px;
  font-size: 18px;
  color: #242525;
}

.links a:hover {
  text-decoration: underline;
}

/* Register Form */
.register-form {
  background-color: rgb(247, 237, 237); /* matches navbar */
  padding: 25px 100px;
  border-radius: 12px;
  width: 350px;
  margin: 30px auto;
}

.register-form h2 {
  text-align: center;
  margin-bottom: 20px;
  color: #1c3137; /* matches logo color */
}

.register-form label {
  display: block;
  margin-top: 12px;
  font-weight: 600;
  color: #333;
}

/* Inputs */
.register-form input[type="text"],
.register-form input[type="password"],
.register-form input[type="email"],
.register-form textarea,
.register-form select {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  margin-bottom: 4px;
  border: 1px solid #7a7676;
  border-radius: 6px;
  background-color: #ffffff;
  color: #333;
  box-sizing: border-box;
}

.register-form input[type="text"]:focus,
.register-form input[type="password"]:focus,
.register-form input[type="email"]:focus,
.register-form textarea:focus,
.register-form select:focus {
  outline: none;
  border-color: #e69fa4;
  box-shadow: 0 0 4px rgba(109,199,209,0.5);
}

.register-form input[type="radio"],
.register-form input[type="checkbox"] {
  margin-right: 6px;
}

.form-group{
  display: flex;
  gap: 15px;
  flex-wrap: nowrap;
}

.register-form textarea {
  resize: vertical;
}

/* DOB Fields */
.dob-select {
  display: flex;
  gap: 10px;
  flex-wrap: nowrap;
}

.language-group {
  display: flex;
  gap: 15px;
  align-items: center;
  flex-wrap: nowrap; /* keep in one line */
}

.language-group label {
  display: flex;
  align-items: center;
  gap: 5px;
  white-space: nowrap; /* prevent label text from breaking */
}

/* Button */
.register-form button {
  margin-top: 20px;
  width: 100%;
  padding: 10px;
  background-color: #1a4fb1;
  color: #ffffff;
  border: none;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.3s ease;
}

.register-form button:hover {
  background-color: #08158a;
}


/* Reserve space for messages so layout never jumps */
.register-form p {
  min-height: 16px;         
  margin: 4px 0 12px;
  font-size: 0.9rem;
  line-height: 1.1;
  color: #d32f2f;            /* error red */
  visibility: hidden;        /* still takes up space */
}

/* When we show a message, make it visible */
.register-form p.show {
  visibility: visible;
}

/* Inputs just for consistency (optional) */
.register-form input {
  display: block;
  width: 100%;
  padding: 10px;
  margin-bottom: 4px;
  box-sizing: border-box;
}



</style>
</head>
<body>

  <!-- Navbar -->
  <div class="nav">
    <div class="logo">
      <img src="pics/Pondy_Univ_logo1.png" alt="Institution Logo">
      <span>Pondicherry University</span>
    </div>

    <div class="links">
      <a href="homepage.html">Home</a>
      <a href="catalog.html">Catalogue</a>
      <a href="login.html">Login</a>
      <a href="register.html">Register</a>
      <a href="cart.html">Cart</a>
    </div>
  </div>


<!-- Registration Form -->
<form class="register-form">
  <h2>Registration Form</h2>

  <input type="text" id="name" placeholder="fullname">
  <p id="check-name"></p>

  <input type="password" id="password" placeholder="password">
  <p id="check-password"></p>

  <input type="email" id="email" placeholder="email id">
  <p id="check-email"></p>

  <input type="text" id="phone" placeholder="mobile number">
  <p id="check-mobile"></p>

  <label>Sex : </label>
  <div class="form-group">
    <div><label><input type="radio" name="sex" value="Male"> Male</label></div>
    <div><label><input type="radio" name="sex" value="Female"> Female</label></div>
    <div><label><input type="radio" name="sex" value="Other"> Other</label></div>
  </div>
  <p id="check-sex"></p>

  <label>Date of Birth :</label>
  <div class="dob-select">
    <select name="day">
      <option>Day</option>
      <script>for (let i=1;i<=31;i++) document.write(`<option>${i}</option>`);</script>
    </select>
    <select name="month">
      <option>Month</option>
      <option>Jan</option><option>Feb</option><option>Mar</option>
      <option>Apr</option><option>May</option><option>Jun</option>
      <option>Jul</option><option>Aug</option><option>Sep</option>
      <option>Oct</option><option>Nov</option><option>Dec</option>
    </select>
    <select name="year">
      <option>Year</option>
      <script>for (let y=1980;y<=2025;y++) document.write(`<option>${y}</option>`);</script>
    </select>
  </div>
  <p id="check-dob"></p>

  <label>Languages Known : </label>
  <div class="language-group">
    <label><input type="checkbox" name="language" value="English"> English</label>
    <label><input type="checkbox" name="language" value="Telugu"> Telugu</label>
    <label><input type="checkbox" name="language" value="Hindi"> Hindi</label>
    <label><input type="checkbox" name="language" value="Tamil"> Tamil</label>
  </div>
  <p id="check-languages"></p>

  <label for="address">Address :</label>
  <textarea id="address" name="address" rows="3"></textarea>
  <p id="check-address"></p>

  <button type="submit">Register</button>
</form>


<script>
const form = document.querySelector('.register-form');

const nameInput   = document.getElementById('name');
const passInput   = document.getElementById('password');
const emailInput  = document.getElementById('email');
const phoneInput  = document.getElementById('phone');
const addressInput= document.getElementById('address');

const nameMsg  = document.getElementById('check-name');
const passMsg  = document.getElementById('check-password');
const emailMsg = document.getElementById('check-email');
const phoneMsg = document.getElementById('check-mobile');
const sexMsg   = document.getElementById('check-sex');
const dobMsg   = document.getElementById('check-dob');
const langMsg  = document.getElementById('check-languages');
const addrMsg  = document.getElementById('check-address');

const sexGroup  = document.querySelector('.form-group');
const dobGroup  = document.querySelector('.dob-select');
const langGroup = document.querySelector('.language-group');

function showMsg(el, msg, targetForOutline) {
  el.textContent = msg || '';
  el.classList.toggle('show', !!msg);
  if (targetForOutline) {
    targetForOutline.classList.toggle('input-error', !!msg);
    targetForOutline.classList.toggle('group-error', !!msg);
  }
}

/* Field-by-field validation */
function validateName() {
  const v = nameInput.value.trim();
  if (!v) return showMsg(nameMsg, 'Name is required.', nameInput), false;
  if (!/^[A-Za-z ]+$/.test(v))
    return showMsg(nameMsg, 'Name cannot contain numbers or symbols.', nameInput), false;
  showMsg(nameMsg, '', nameInput);
  return true;
}

function validatePassword() {
  const v = passInput.value;
  if (v.length < 8)
    return showMsg(passMsg, 'Password must be at least 8 characters.', passInput), false;
  showMsg(passMsg, '', passInput);
  return true;
}

function validateEmail() {
  const v = emailInput.value.trim();
  const ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v);
  if (!ok) return showMsg(emailMsg, 'Enter a valid email address.', emailInput), false;
  showMsg(emailMsg, '', emailInput);
  return true;
}

function validatePhone() {
  const v = phoneInput.value.trim();
  const ok = /^\d{10}$/.test(v);
  if (!ok) return showMsg(phoneMsg, 'Enter a 10-digit mobile number.', phoneInput), false;
  showMsg(phoneMsg, '', phoneInput);
  return true;
}

function validateSex() {
  const selected = document.querySelector('input[name="sex"]:checked');
  if (!selected) return showMsg(sexMsg, 'Please select your sex.', sexGroup), false;
  showMsg(sexMsg, '', sexGroup);
  return true;
}

function validateDOB() {
  const dayEl = document.querySelector('select[name="day"]');
  const monEl = document.querySelector('select[name="month"]');
  const yrEl  = document.querySelector('select[name="year"]');

  const day = dayEl.value, month = monEl.value, year = yrEl.value;

  if (day === 'Day' || month === 'Month' || year === 'Year') {
    return showMsg(dobMsg, 'Please select your full date of birth.', dobGroup), false;
  }

  // (Optional) sanity check: invalid dates like 31-Feb
  const monthIndex = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'].indexOf(month);
  const dt = new Date(Number(year), monthIndex, Number(day));
  const validDate = dt.getFullYear()==Number(year) && dt.getMonth()==monthIndex && dt.getDate()==Number(day);

  if (!validDate) return showMsg(dobMsg, 'Selected date is not valid.', dobGroup), false;

  showMsg(dobMsg, '', dobGroup);
  return true;
}

function validateLanguages() {
  const checked = document.querySelectorAll('input[name="language"]:checked').length;
  if (!checked) return showMsg(langMsg, 'Select at least one language.', langGroup), false;
  showMsg(langMsg, '', langGroup);
  return true;
}

function validateAddress() {
  const v = addressInput.value.trim();
  if (!v) return showMsg(addrMsg, 'Please enter your address.', addressInput), false;
  showMsg(addrMsg, '', addressInput);
  return true;
}

/* Live validation on common inputs */
nameInput.addEventListener('input', validateName);
passInput.addEventListener('input', validatePassword);
emailInput.addEventListener('input', validateEmail);
phoneInput.addEventListener('input', validatePhone);

/* Live validation for selection groups */
sexGroup.addEventListener('change', validateSex);
dobGroup.addEventListener('change', validateDOB);
langGroup.addEventListener('change', validateLanguages);
addressInput.addEventListener('input', validateAddress);

/* On submit — block unless everything passes */
form.addEventListener('submit', (e) => {
  const ok =
    validateName() &
    validatePassword() &
    validateEmail() &
    validatePhone() &
    validateSex() &
    validateDOB() &
    validateLanguages() &
    validateAddress();

  if (!ok) e.preventDefault();
});

</script>

</body>
</html>
