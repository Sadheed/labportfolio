<!DOCTYPE html>
<html>
<head>
  <title>CSE Books</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #ffb5b5;
      margin: 0;
      padding: 20px;
    }

    h2 {
      text-align: center;
      color: #4a7c8b;
    }

    table {
      width: 100%;
      margin-top: 20px;
      background-color: #ffcbcb;
      border-radius: 10px;
      overflow: hidden;
    }

    th, td {
      padding: 12px;
      text-align: center;
    }

    th {
      background-color: #69959a;
      color: white;
    }



    img {
      width: 80px;
      height: auto;
      border-radius: 6px;
    }

    button {
      background-color: #6dc7d1;
      color: white;
      border: none;
      padding: 8px 14px;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    button:hover {
      background-color: #4ab1bc;
    }
  </style>
</head>
<body>

  

  <table>
    <tr>
      <th>Cover</th>
      <th>Author</th>
      <th>Publisher</th>
      <th>Price</th>
      <th>TO Cart</th>
    </tr> 
    <tr>
      <td><img src="./pics/81fy83U5FFL._SY425_.jpg" alt="book" /></td>
      <td>Paul D Crutcher <br>Neeraj Kumar Singh</td>
      <td>APress</td>
      <td>₹4000</td>
      <td><button>Add</button></td>
    </tr>
    <tr>
      <td><img src="./pics/61oYAuKLOFL._SY385_.jpg" alt="book" /></td>
      <td>Jim Ledin</td>
      <td>Packet</td>
      <td>₹1020</td>
      <td><button>Add</button></td>
    </tr>
  </table>

  <script>
document.addEventListener("DOMContentLoaded", function() {
    const buttons = document.querySelectorAll("button");

    buttons.forEach((btn) => {
        btn.addEventListener("click", function() {
            const row = btn.closest("tr");

            const book = {
                cover: row.querySelector("img").src,
                author: row.cells[1].innerHTML.trim(),
                publisher: row.cells[2].textContent.trim(),
                price: row.cells[3].textContent.trim(),
                quantity: 1
            };

            let cart = JSON.parse(localStorage.getItem("cart")) || [];

            // Check if book already in cart → increase quantity
            let existing = cart.find(item => item.author === book.author && item.publisher === book.publisher);
            if (existing) {
                existing.quantity += 1;
            } else {
                cart.push(book);
            }

            localStorage.setItem("cart", JSON.stringify(cart));
            alert("Book added to cart!");
        });
    });
});
</script>

</body>
</html>
